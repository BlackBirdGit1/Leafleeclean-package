<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Updated Title -->
    <title>Leaflee Cleaning | Price & Booking Guide</title>
    <!-- FIXED: Tailwind CSS CDN Link -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <style>
        /* Custom Styles */
        html {
            scroll-behavior: smooth;
        }

        /* Set background color for the whole page, like original design */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f9fafb;
            /* Light gray background */
        }

        /* Custom scrollbar for the price table on mobile */
        .table-responsive {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }

        .table-responsive table {
            min-width: 800px;
            width: 100%;
        }

        /* REVERTED: Custom radio button styles (back to green) */
        input[type="radio"]:checked+label {
            border-color: #10B981;
            /* green-500 */
            box-shadow: 0 4px 6px -1px rgba(16, 185, 129, 0.1), 0 2px 4px -1px rgba(16, 185, 129, 0.06);
            transform: translateY(-2px);
        }

        /* REVERTED: Custom checkbox styles (back to green) */
        input[type="checkbox"]:checked {
            background-color: #059669;
            /* green-600 */
            border-color: #059669;
            /* green-600 */
        }
    </style>
</head>

<body class="text-gray-800">

    <!-- Simple Header (like original file) -->
    <header class="bg-white shadow-sm">
        <div class="container mx-auto px-6 py-4 max-w-6xl">
            <h1 class="text-3xl font-bold text-gray-900">
                <!-- REVERTED: Color -->
                <span class="text-green-600">Leaflee</span> Cleaning
            </h1>
            <p class="mt-1 text-gray-600">Your Price & Booking Guide for Savannah, GA</p>
        </div>
    </header>

    <!-- Main content container -->
    <main class="container mx-auto px-6 py-12 max-w-6xl">

        <!-- REVISED: Calculator Section -->
        <section id="calculator" class="bg-white p-6 sm:p-8 rounded-2xl shadow-lg mb-12">
            <!-- REVERTED: Color -->
            <h2 class="text-2xl sm:text-3xl font-bold text-center mb-8 text-green-700">Get an Instant Estimate</h2>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Left Column: Selections -->
                <div>
                    <!-- Step 1: Home Size -->
                    <div class="mb-6">
                        <label for="homeSize" class="block text-lg font-semibold mb-2 text-gray-700">1. Select
                            Your Home Size</label>
                        <!-- REVERTED: Color -->
                        <select id="homeSize"
                            class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 transition">
                            <option value='{"standard": 125, "deep": 195, "moveout": 275}'>Apartment / < 1,000
                                    sq. ft.</option>
                            <option value='{"standard": 140, "deep": 240, "moveout": 320}'>1,001 - 1,500 sq. ft.
                            </option>
                            <option value='{"standard": 165, "deep": 290, "moveout": 380}' selected>1,501 -
                                2,000 sq. ft.</option>
                            <option value='{"standard": 190, "deep": 345, "moveout": 450}'>2,001 - 2,500 sq. ft.
                            </option>
                            <option value='{"standard": 220, "deep": 400, "moveout": 525}'>2,501 - 3,000 sq. ft.
                            </option>
                            <option value='{"standard": 0, "deep": 0, "moveout": 0}' data-custom="true">3,000+
                                sq. ft.</option>
                        </select>
                    </div>

                    <!-- Step 2: Package Type -->
                    <div class="mb-6">
                        <h3 class="block text-lg font-semibold mb-3 text-gray-700">2. Choose Your Package</h3>
                        <div class="grid grid-cols-2 sm:grid-cols-4 gap-3">
                            <input type="radio" name="packageType" value="standard" id="pkgStandard" class="hidden"
                                checked>
                            <label for="pkgStandard"
                                class="block p-4 border-2 border-gray-200 rounded-lg cursor-pointer transition-all duration-200 ease-in-out text-center hover:border-gray-400">
                                <!-- REVERTED: Color -->
                                <span class="font-bold text-green-700">Standard</span>
                                <span class="text-sm text-gray-500 block">The Refresh</span>
                            </label>

                            <input type="radio" name="packageType" value="deep" id="pkgDeep" class="hidden">
                            <label for="pkgDeep"
                                class="block p-4 border-2 border-gray-200 rounded-lg cursor-pointer transition-all duration-200 ease-in-out text-center hover:border-gray-400">
                                <span class="font-bold text-blue-700">Deep</span>
                                <span class="text-sm text-gray-500 block">The Overhaul</span>
                            </label>

                            <input type="radio" name="packageType" value="moveout" id="pkgMoveout" class="hidden">
                            <label for="pkgMoveout"
                                class="block p-4 border-2 border-gray-200 rounded-lg cursor-pointer transition-all duration-200 ease-in-out text-center hover:border-gray-400">
                                <span class="font-bold text-purple-700">Move-Out</span>
                                <span class="text-sm text-gray-500 block">Empty Home</span>
                            </label>

                            <input type="radio" name="packageType" value="custom" id="pkgCustom" class="hidden">
                            <label for="pkgCustom"
                                class="block p-4 border-2 border-gray-200 rounded-lg cursor-pointer transition-all duration-200 ease-in-out text-center hover:border-gray-400">
                                <span class="font-bold text-orange-700">Custom</span>
                                <span class="text-sm text-gray-500 block">Event/Other</span>
                            </label>
                        </div>
                    </div>

                    <!-- Step 3: Add-Ons -->
                    <div>
                        <h3 class="block text-lg font-semibold mb-3 text-gray-700">3. Select Add-Ons</h3>
                        <div class="space-y-3">
                            <label
                                class="flex items-center p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition duration-150">
                                <!-- REVERTED: Color -->
                                <input type="checkbox" id="addonFridge" value="30"
                                    class="h-5 w-5 rounded text-green-600 border-gray-300 focus:ring-green-500">
                                <span class="ml-3 text-gray-700">Inside the Refrigerator <span
                                        class="text-gray-500">(+$30)</span></span>
                            </label>
                            <label
                                class="flex items-center p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition duration-150">
                                <!-- REVERTED: Color -->
                                <input type="checkbox" id="addonOven" value="35"
                                    class="h-5 w-5 rounded text-green-600 border-gray-300 focus:ring-green-500">
                                <span class="ml-3 text-gray-700">Inside the Oven <span
                                        class="text-gray-500">(+$35)</span></span>
                            </label>
                            <label
                                class="flex items-center p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition duration-150">
                                <!-- REVERTED: Color -->
                                <input type="checkbox" id="addonWindows" value="45"
                                    class="h-5 w-5 rounded text-green-600 border-gray-300 focus:ring-green-500">
                                <span class="ml-3 text-gray-700">Interior Windows<span
                                        class="text-gray-500">(+$45)</span></span>
                            </label>
                            <label
                                class="flex items-center p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition duration-150">
                                <!-- REVERTED: Color -->
                                <input type="checkbox" id="addonGarage" value="25"
                                    class="h-5 w-5 rounded text-green-600 border-gray-300 focus:ring-green-500">
                                <span class="ml-3 text-gray-700">Sweep Garage or Porch <span
                                        class="text-gray-500">(+$25)</span></span>
                            </label>
                            <label
                                class="flex items-center p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition duration-150">
                                <!-- REVERTED: Color -->
                                <input type="checkbox" id="addonLaundry" value="20"
                                    class="h-5 w-5 rounded text-green-600 border-gray-300 focus:ring-green-500">
                                <span class="ml-3 text-gray-700">Laundry (per load) <span
                                        class="text-gray-500">(+$20)</span></span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- NEW: Right Column: Summary (REVERTED to Green) -->
                <div class="bg-green-50 p-6 rounded-2xl border border-green-200">
                    <!-- This container holds the standard summary -->
                    <div id="estimateSummaryBox">
                        <h3 class="text-xl font-semibold text-green-800 mb-2">Your Estimate Summary</h3>
                        <p id="totalEstimateDisplay" class="text-6xl font-extrabold text-green-700 mb-4">$165</p>
                        
                        <div class="space-y-4">
                            <!-- Package Details -->
                            <div>
                                <h4 id="packageDescriptionTitle" class="text-lg font-bold text-green-800">The Standard Clean</h4>
                                <ul id="packageDescriptionList" class="mt-2 space-y-1 text-sm text-green-900 list-disc list-inside">
                                    <!-- JS will populate this -->
                                </ul>
                            </div>
                            
                            <!-- Divider -->
                            <hr class="border-green-200">

                            <!-- Add-ons Details -->
                            <div>
                                <h4 class="text-lg font-bold text-green-800">Selected Add-Ons</h4>
                                <p id="addonsDescriptionList" class="mt-2 text-sm text-green-900">
                                    <!-- JS will populate this -->
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- This container holds the custom quote message (hidden by default) -->
                    <div id="customQuoteMessage" class="flex flex-col items-center justify-center h-full hidden">
                        <p class="text-2xl font-semibold text-green-700 text-center">
                            This request requires a custom quote.
                        </p>
                        <p class="text-base font-normal text-green-600 mt-4 text-center">
                            Please schedule a visit below for a free, no-obligation walkthrough.
                        </p>
                    </div>
                </div>
            </div>
        </section>


        <!-- REVISED: Calendly Embed Section -->
        <section id="schedule" class="bg-white p-6 sm:p-8 rounded-2xl shadow-lg mb-12">
            <h2 class="text-2xl sm:text-3xl font-bold text-center mb-4 text-gray-800">Schedule Your Quote Visit</h2>
            <p class="text-center text-gray-600 mb-8 max-w-2xl mx-auto">
                Your estimate is ready! Now, let's book a quick walkthrough. This helps us confirm the details and
                give you a final, locked-in price.
            </p>

            <div class="rounded-xl overflow-hidden border border-gray-200">
                <div id="calendly-widget" style="min-width:320px;height:700px;"></div>
            </div>
        </section>


        <!-- REVISED: Summary Tables Section -->
        <section id="price-guide" class="bg-white p-6 sm:p-8 rounded-2xl shadow-lg mb-12">
            <h2 class="text-2xl sm:text-3xl font-bold text-center mb-8 text-gray-800">Detailed Price Guide</h2>

            <!-- Find Your Price Table -->
            <h3 class="text-xl font-bold text-center text-gray-800 mb-6">Find Your Price</h3>
            <p class="text-center text-gray-600 mb-4 text-sm max-w-2xl mx-auto">
                Prices listed are "Starting At" rates for a one-time service. We offer great discounts for weekly,
                bi-weekly, and monthly clients!
            </p>
            <div class="table-responsive rounded-lg border border-gray-200 mb-10">
                <table class="min-w-full divide-y divide-gray-200">
                    <thead class="bg-gray-50">
                        <tr>
                            <th scope="col" class="py-3.5 px-6 text-left text-sm font-semibold text-gray-900">Home
                                Size (Approx. Sq. Ft.)</th>
                            <!-- REVERTED: Color -->
                            <th scope="col" class="py-3.5 px-6 text-center text-sm font-semibold text-green-700">
                                Standard Clean</th>
                            <th scope="col" class="py-3.5 px-6 text-center text-sm font-semibold text-blue-700">Deep
                                Clean</th>
                            <th scope="col" class="py-3.5 px-6 text-center text-sm font-semibold text-purple-700">
                                Move-In / Move-Out</th>
                            <th scope="col"
                                class="py-3.5 px-6 text-center text-sm font-semibold text-orange-700">Custom Clean
                            </th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-200 bg-white">
                        <tr>
                            <td class="whitespace-nowrap py-4 px-6 text-sm font-medium text-gray-900">Apartment / <
                                    1,000 sq. ft.</td>
                            <td class="whitespace-nowrap py-4 px-6 text-sm text-gray-500 text-center">$125</td>
                            <td class="whitespace-nowrap py-4 px-6 text-sm text-gray-500 text-center">$195</td>
                            <td class="whitespace-nowrap py-4 px-6 text-sm text-gray-500 text-center">$275</td>
                            <td class="whitespace-nowrap py-4 px-6 text-sm text-gray-500 text-center font-medium"
                                rowspan="6">Call for Quote</td>
                        </tr>
                        <tr>
                            <td class="whitespace-nowrap py-4 px-6 text-sm font-medium text-gray-900">1,001 - 1,500
                                sq. ft.</td>
                            <td class="whitespace-nowrap py-4 px-6 text-sm text-gray-500 text-center">$140</td>
                            <td class="whitespace-nowrap py-4 px-6 text-sm text-gray-500 text-center">$240</td>
                            <td class="whitespace-nowrap py-4 px-6 text-sm text-gray-500 text-center">$320</td>
                        </tr>
                        <tr>
                            <td class="whitespace-nowrap py-4 px-6 text-sm font-medium text-gray-900">1,501 - 2,000
                                sq. ft.</td>
                            <td class="whitespace-nowrap py-4 px-6 text-sm text-gray-500 text-center">$165</td>
                            <td class="whitespace-nowrap py-4 px-6 text-sm text-gray-500 text-center">$290</td>
                            <td class="whitespace-nowrap py-4 px-6 text-sm text-gray-500 text-center">$380</td>
                        </tr>
                        <tr>
                            <td class="whitespace-nowrap py-4 px-6 text-sm font-medium text-gray-900">2,001 - 2,500
                                sq. ft.</td>
                            <td class="whitespace-nowrap py-4 px-6 text-sm text-gray-500 text-center">$190</td>
                            <td class="whitespace-nowrap py-4 px-6 text-sm text-gray-500 text-center">$345</td>
                            <td class="whitespace-nowrap py-4 px-6 text-sm text-gray-500 text-center">$450</td>
                        </tr>
                        <tr>
                            <td class="whitespace-nowrap py-4 px-6 text-sm font-medium text-gray-900">2,501 - 3,000
                                sq. ft.</td>
                            <td class="whitespace-nowrap py-4 px-6 text-sm text-gray-500 text-center">$220</td>
                            <td class="whitespace-nowrap py-4 px-6 text-sm text-gray-500 text-center">$400</td>
                            <td class="whitespace-nowrap py-4 px-6 text-sm text-gray-500 text-center">$525</td>
                        </tr>
                        <tr>
                            <td class="whitespace-nowrap py-4 px-6 text-sm font-medium text-gray-900">3,000+ sq. ft.
                            </td>
                            <td colspan="3"
                                class="whitespace-nowrap py-4 px-6 text-sm text-gray-500 text-center font-medium">
                                Please Call for a Custom Quote</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- A La Carte Table -->
            <h3 class="text-xl font-bold text-center text-gray-800 mt-10 mb-6">Customize Your Clean (A La Carte
                Add-Ons)</h3>
            <p class="text-center text-gray-600 mb-4 text-sm max-w-2xl mx-auto">
                Add to any Standard, Deep, or Custom package. (Oven & Fridge are included in Move-Out).
            </p>
            <div class="table-responsive rounded-lg border border-gray-200 max-w-2xl mx-auto">
                <table class="min-w-full divide-y divide-gray-200" style="min-width: 1px;">
                    <thead class="bg-gray-50">
                        <tr>
                            <th scope="col" class="py-3.5 px-6 text-left text-sm font-semibold text-gray-900">
                                Service</th>
                            <th scope="col" class="py-3.5 px-6 text-left text-sm font-semibold text-gray-900">Price
                            </th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-200 bg-white">
                        <tr>
                            <td class="whitespace-nowrap py-4 px-6 text-sm font-medium text-gray-900">Inside the
                                Refrigerator</td>
                            <td class="whitespace-nowrap py-4 px-6 text-sm text-gray-500">+ $30</td>
                        </tr>
                        <tr>
                            <td class="whitespace-nowrap py-4 px-6 text-sm font-medium text-gray-900">Inside the Oven
                            </td>
                            <td class="whitespace-nowrap py-4 px-6 text-sm text-gray-500">+ $35</td>
                        </tr>
                        <tr>
                            <td class="whitespace-nowrap py-4 px-6 text-sm font-medium text-gray-900">Interior
                                Windows</td>
                            <td class="whitespace-nowrap py-4 px-6 text-sm text-gray-500">+ $45</td>
                        </tr>
                        <tr>
                            <td class="whitespace-nowrap py-4 px-6 text-sm font-medium text-gray-900">Sweep Garage or
                                Porch</td>
                            <td class="whitespace-nowrap py-4 px-6 text-sm text-gray-500">+ $25</td>
                        </tr>
                        <tr>
                            <td class="whitespace-nowrap py-4 px-6 text-sm font-medium text-gray-900">Laundry (per
                                load, wash, dry & fold)</td>
                            <td class="whitespace-nowrap py-4 px-6 text-sm text-gray-500">+ $20</td>
                        </tr>
                    </tbody>
                </table>
            </div>

        </section>

    </main>

    <!-- Simple Footer -->
    <footer class="bg-white border-t border-gray-200">
        <div class="container mx-auto px-6 py-8 max-w-6xl text-center text-gray-500">
            <p class="text-sm">&copy; 2025 Leaflee Cleaning. All rights reserved.</p>
        </div>
    </footer>


    <!-- JAVASCRIPT - Updated with new logic -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- Package Descriptions Data ---
            const packageDescriptions = {
                standard: {
                    title: "The Standard Clean",
                    color: "text-green-700", // Back to green
                    items: [
                        "Dust all surfaces & ceiling fans",
                        "Vacuum carpets & mop floors",
                        "Wipe kitchen counters & sink",
                        "Clean exterior of appliances",
                        "Clean & sanitize all bathrooms",
                        "Empty wastebaskets"
                    ]
                },
                deep: {
                    title: "The Deep Clean",
                    color: "text-blue-700",
                    items: [
                        "<strong>Everything in Standard, PLUS:</strong>",
                        "Hand-wipe all baseboards",
                        "Hand-wipe door frames",
                        "Hand-wipe window sills",
                        "Wipe cabinet exteriors",
                        "Extra scrub on tile/grout"
                    ]
                },
                moveout: {
                    title: "The Move-Out Clean",
                    color: "text-purple-700",
                    items: [
                        "<strong>Everything in Deep, PLUS:</strong>",
                        "(For Empty Homes Only)",
                        "Inside all cabinets & drawers",
                        "Inside all closets",
                        "Inside the oven",
                        "Inside the refrigerator"
                    ]
                },
                custom: {
                    title: "The Custom Clean",
                    color: "text-orange-700",
                    items: [
                        "We'll discuss your specific needs during the walkthrough!"
                    ]
                }
            };

            // --- Utility to load scripts ---
            function loadScript(src, callback) {
                const script = document.createElement('script');
                script.type = 'text/javascript';
                script.src = src;
                script.async = true;
                script.onload = callback;
                document.head.appendChild(script);
            }

            // --- Get all the elements we need ---
            const homeSizeSelect = document.getElementById('homeSize');
            const packageRadios = document.querySelectorAll('input[name="packageType"]');
            const addonCheckboxes = document.querySelectorAll('input[type="checkbox"]');
            
            // Calculator Display Elements
            const totalDisplay = document.getElementById('totalEstimateDisplay');
            const customQuoteMessage = document.getElementById('customQuoteMessage');
            const estimateSummaryBox = document.getElementById('estimateSummaryBox');
            const packageDescriptionTitle = document.getElementById('packageDescriptionTitle');
            const packageDescriptionList = document.getElementById('packageDescriptionList');
            const addonsDescriptionList = document.getElementById('addonsDescriptionList');

            // Calendly
            const calendlyWidgetContainer = document.getElementById('calendly-widget');
            const baseCalendlyUrl = "https://calendly.com/thinkgallery1/new-meeting";

            // Specific Add-ons
            const addonFridge = document.getElementById('addonFridge');
            const addonOven = document.getElementById('addonOven');


            // --- This function reloads the Calendly widget ---
            function updateCalendlyWidget(quoteSummary) {
                let prefillUrl = baseCalendlyUrl;
                if (quoteSummary) {
                    prefillUrl = `${baseCalendlyUrl}?a1=${encodeURIComponent(quoteSummary)}`;
                }
                
                if (!calendlyWidgetContainer) return; // Exit if no widget on page
                
                calendlyWidgetContainer.innerHTML = ''; // Clear old widget

                if (typeof Calendly !== 'undefined') {
                    Calendly.initInlineWidget({
                        url: prefillUrl,
                        parentElement: calendlyWidgetContainer
                    });
                }
            }


            function calculateTotal() {
                // 1. Get Base Price from Home Size and Package
                const selectedPackage = document.querySelector('input[name="packageType"]:checked').value;
                const selectedSizeOption = homeSizeSelect.options[homeSizeSelect.selectedIndex];
                const sizeData = JSON.parse(selectedSizeOption.value);
                const isCustomQuoteSize = selectedSizeOption.dataset.custom === 'true';
                const isCustomPackage = selectedPackage === 'custom';

                // Get text for size
                const sizeText = selectedSizeOption.text;
                
                // Get Package Details from our data object
                const packageData = packageDescriptions[selectedPackage];
                const packageText = packageData.title;


                let basePrice = 0;
                if (!isCustomPackage && !isCustomQuoteSize) {
                    basePrice = sizeData[selectedPackage];
                }

                // 2. Get Add-On Total and Text
                let addonTotal = 0;
                let addOnsDetails = []; // This will hold the text of selected add-ons
                addonCheckboxes.forEach(checkbox => {
                    if (checkbox.checked) {
                        addonTotal += parseInt(checkbox.value, 10);
                        const addonText = checkbox.parentElement.querySelector('span').textContent.split(' (')[0].trim();
                        addOnsDetails.push(addonText);
                    }
                });

                // 3. Calculate Final Total
                const total = basePrice + addonTotal;

                // 4. Build Calendly Summary String
                let quoteSummary = "";

                // 5. Update the display
                if (isCustomQuoteSize || isCustomPackage) {
                    // SHOW CUSTOM MESSAGE
                    estimateSummaryBox.classList.add('hidden');
                    customQuoteMessage.classList.remove('hidden');

                    let customReason = isCustomQuoteSize ? `Size: ${sizeText}` : `Package: ${packageText}`;
                    quoteSummary = `Quote Request For:\n${customReason}\nAdd-ons: ${addOnsDetails.length > 0 ? addOnsDetails.join(', ') : 'None'}\nTotal: Custom Quote Required`;

                } else {
                    // SHOW ESTIMATE SUMMARY
                    estimateSummaryBox.classList.remove('hidden');
                    customQuoteMessage.classList.add('hidden');

                    // 5a. Update price
                    totalDisplay.textContent = `$${total}`;

                    // 5b. Update Package Details
                    packageDescriptionTitle.textContent = packageText;
                    // REVERTED: Update title color class dynamically
                    packageDescriptionTitle.className = `text-lg font-bold ${packageData.color}`;
                    packageDescriptionList.innerHTML = packageData.items.map(item => `<li>${item}</li>`).join('');

                    // 5c. Update Add-ons List
                    if (addOnsDetails.length > 0) {
                        addonsDescriptionList.textContent = addOnsDetails.join(', ');
                    } else {
                        addonsDescriptionList.textContent = 'None';
                    }

                    // 5d. Set summary for a standard quote
                    quoteSummary = `Quote Request For:\nSize: ${sizeText}\nPackage: ${packageText}\nAdd-ons: ${addOnsDetails.length > 0 ? addOnsDetails.join(', ') : 'None'}\nEstimated Total: $${total}`;
                }

                // 6. Update the Calendly widget
                updateCalendlyWidget(quoteSummary);
            }

            function handlePackageChange() {
                const selectedPackage = document.querySelector('input[name="packageType"]:checked').value;

                // Logic for move-out: disable fridge/oven add-ons as they are included
                if (selectedPackage === 'moveout') {
                    addonFridge.checked = false;
                    addonFridge.disabled = true;
                    addonFridge.parentElement.classList.add('opacity-50', 'cursor-not-allowed');

                    addonOven.checked = false;
                    addonOven.disabled = true;
                    addonOven.parentElement.classList.add('opacity-50', 'cursor-not-allowed');
                } else {
                    // This 'else' block now correctly handles 'standard', 'deep', AND 'custom'
                    addonFridge.disabled = false;
                    addonFridge.parentElement.classList.remove('opacity-50', 'cursor-not-allowed');

                    addonOven.disabled = false;
                    addonOven.parentElement.classList.remove('opacity-50', 'cursor-not-allowed');
                }

                calculateTotal(); // Recalculate when package changes
            }

            // --- Event Listeners ---
            homeSizeSelect.addEventListener('change', calculateTotal);
            addonCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', calculateTotal);
            });
            packageRadios.forEach(radio => {
                radio.addEventListener('change', handlePackageChange);
            });

            // --- Initial Load ---
            loadScript("https://assets.calendly.com/assets/external/widget.js", () => {
                // Now `Calendly` is defined and we can run the first calculation
                handlePackageChange();
            });
        });
    </script>
</body>

</html>

